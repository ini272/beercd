<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#3d2817">
    <meta name="description" content="A cooldown timer to help limit beer intake">
    <title>BeerCD - Beer Cooldown</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üç∫ CoolDown Tracker</h1>
        <p class="subtitle">Beer & Shot Timers</p>
        
        <!-- Tab navigation -->
        <div class="tabs">
            <button class="tab-btn active" id="beerTab" onclick="switchTab('beer')">üç∫ Beer</button>
            <button class="tab-btn" id="shotTab" onclick="switchTab('shot')">üç∏ Shot</button>
        </div>
        
        <!-- Counter badge -->
        <div class="counter-badge" id="counterBadge">
            <span id="beerCount">üç∫ 0</span> | <span id="shotCount">üç∏ 0</span>
        </div>
        
        <!-- Inactive timer preview -->
        <div class="inactive-timer-preview" id="inactivePreview" style="display: none;">
            <span id="inactiveLabel">Shot: </span><span id="inactiveTime">--:--:--</span>
        </div>
        
        <div class="timer-display" id="timerDisplay">
            <div class="time" id="timeDisplay">--:--:--</div>
            <div class="status" id="statusDisplay">Ready</div>
        </div>
        
        <div class="beer-button-container">
            <button class="beer-button" id="mainButton" onclick="startCooldown()">
                <span class="beer-icon" id="buttonIcon">üç∫</span>
                <span class="refresh-icon" id="refreshIcon" style="display: none;">üîÑ</span>
            </button>
            <button class="stop-button" id="stopButton" onclick="stopCooldown()" style="display: none;" title="Stop cooldown">
                ‚èπÔ∏è
            </button>
        </div>
        
        <!-- History section -->
        <button class="history-toggle" id="historyToggle" onclick="toggleHistory()">
            <span id="historyIcon">‚ñº</span> History
        </button>
        
        <div class="history-section" id="historySection" style="display: none;">
            <div class="history-list" id="historyList">
                <div class="empty-history">No drinks yet today</div>
            </div>
            <button class="reset-history-btn" onclick="resetHistory()">Clear History</button>
        </div>
        
        <div class="settings">
            <label>Cooldown Duration:</label>
            
            <!-- Preset buttons -->
            <div class="preset-buttons">
                <button class="preset-btn" onclick="setPresetDuration(0.5)">30m</button>
                <button class="preset-btn active" onclick="setPresetDuration(1)">1h</button>
                <button class="preset-btn" onclick="setPresetDuration(1.5)">1.5h</button>
                <button class="preset-btn" onclick="setPresetDuration(2)">2h</button>
                <button class="preset-btn" onclick="setPresetDuration(3)">3h</button>
            </div>
            
            <!-- Custom duration toggle -->
            <button class="custom-duration-toggle" id="customToggle" onclick="toggleCustomDuration()">
                <span id="toggleIcon">‚ñº</span> Custom Duration
            </button>
            
            <!-- Custom duration section -->
            <div class="custom-duration-section" id="customSection" style="display: none;">
                <div class="custom-label">Custom Duration</div>
                <div class="live-preview" id="livePreview">1h 0m</div>
                
                <div class="spinners-container">
                    <!-- Hour spinner -->
                    <div class="spinner">
                        <button class="spinner-btn spinner-up" onclick="incrementHour()">‚ñ≤</button>
                        <div class="spinner-value" id="hourDisplay">1</div>
                        <button class="spinner-btn spinner-down" onclick="decrementHour()">‚ñº</button>
                        <div class="spinner-label">hours</div>
                    </div>
                    
                    <!-- Minute spinner -->
                    <div class="spinner">
                        <button class="spinner-btn spinner-up" onclick="incrementMinute()">‚ñ≤</button>
                        <div class="spinner-value" id="minuteDisplay">0</div>
                        <button class="spinner-btn spinner-down" onclick="decrementMinute()">‚ñº</button>
                        <div class="spinner-label">minutes</div>
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="apply-custom-btn" onclick="applyCustomDuration()">Apply</button>
                    <button class="reset-custom-btn" onclick="resetCustomDuration()">Reset</button>
                </div>
            </div>
        </div>
        
        <div class="controls-container">
            <button class="sound-toggle" id="soundToggle" onclick="toggleSound()" title="Toggle sound">
                <span id="soundIcon">üîä</span>
            </button>
            <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" title="Toggle dark mode">
                <span id="themeIcon">üåô</span>
            </button>
        </div>
    </div>
    
    <!-- Bubbly beer animation overlay -->
    <div class="beer-animation-overlay" id="beerAnimation">
        <div class="bubbles-container">
            <!-- Bubbles will be generated by JavaScript -->
        </div>
    </div>
    
    <!-- Audio elements for sounds -->
    <audio id="beerSound" preload="auto">
        <source src="sounds/beer-open-pour.mp3" type="audio/mpeg">
        <source src="sounds/beer-open-pour.ogg" type="audio/ogg">
    </audio>
    
    <audio id="shotSound" preload="auto">
        <source src="sounds/shot.mp3" type="audio/mpeg">
        <source src="sounds/shot.ogg" type="audio/ogg">
    </audio>
    
    <script src="script.js"></script>
    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then((registration) => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch((error) => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>

